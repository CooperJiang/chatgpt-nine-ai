
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as I,y as $,B as R,r as M,x as V,D as U,C as G,o as y,c as T,a as z,b as v,G as P,e as x,f as w,J as D,I as O,N as J,R as q,ac as K,g as Q,_ as W,h as A,k as X,t as Y,n as Z}from"./index-be23d7e6.js";import{T as j}from"./index-bc16b80e.js";import"./index-0d28c1a7.js";function k(t){for(var a=[],e=0;e<t.length;){var u=t[e];if(u==="*"||u==="+"||u==="?"){a.push({type:"MODIFIER",index:e,value:t[e++]});continue}if(u==="\\"){a.push({type:"ESCAPED_CHAR",index:e++,value:t[e++]});continue}if(u==="{"){a.push({type:"OPEN",index:e,value:t[e++]});continue}if(u==="}"){a.push({type:"CLOSE",index:e,value:t[e++]});continue}if(u===":"){for(var d="",n=e+1;n<t.length;){var s=t.charCodeAt(n);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){d+=t[n++];continue}break}if(!d)throw new TypeError("Missing parameter name at ".concat(e));a.push({type:"NAME",index:e,value:d}),e=n;continue}if(u==="("){var p=1,c="",n=e+1;if(t[n]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(n));for(;n<t.length;){if(t[n]==="\\"){c+=t[n++]+t[n++];continue}if(t[n]===")"){if(p--,p===0){n++;break}}else if(t[n]==="("&&(p++,t[n+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(n));c+=t[n++]}if(p)throw new TypeError("Unbalanced pattern at ".concat(e));if(!c)throw new TypeError("Missing pattern at ".concat(e));a.push({type:"PATTERN",index:e,value:c}),e=n;continue}a.push({type:"CHAR",index:e,value:t[e++]})}return a.push({type:"END",index:e,value:""}),a}function ee(t,a){a===void 0&&(a={});for(var e=k(t),u=a.prefixes,d=u===void 0?"./":u,n="[^".concat(ae(a.delimiter||"/#?"),"]+?"),s=[],p=0,c=0,i="",o=function(g){if(c<e.length&&e[c].type===g)return e[c++].value},r=function(g){var _=o(g);if(_!==void 0)return _;var S=e[c],L=S.type,F=S.index;throw new TypeError("Unexpected ".concat(L," at ").concat(F,", expected ").concat(g))},f=function(){for(var g="",_;_=o("CHAR")||o("ESCAPED_CHAR");)g+=_;return g};c<e.length;){var h=o("CHAR"),b=o("NAME"),m=o("PATTERN");if(b||m){var l=h||"";d.indexOf(l)===-1&&(i+=l,l=""),i&&(s.push(i),i=""),s.push({name:b||p++,prefix:l,suffix:"",pattern:m||n,modifier:o("MODIFIER")||""});continue}var E=h||o("ESCAPED_CHAR");if(E){i+=E;continue}i&&(s.push(i),i="");var B=o("OPEN");if(B){var l=f(),N=o("NAME")||"",C=o("PATTERN")||"",H=f();r("CLOSE"),s.push({name:N||(C?p++:""),pattern:N&&!C?n:C,prefix:l,suffix:H,modifier:o("MODIFIER")||""});continue}r("END")}return s}function te(t,a){return ne(ee(t,a),a)}function ne(t,a){a===void 0&&(a={});var e=re(a),u=a.encode,d=u===void 0?function(c){return c}:u,n=a.validate,s=n===void 0?!0:n,p=t.map(function(c){if(typeof c=="object")return new RegExp("^(?:".concat(c.pattern,")$"),e)});return function(c){for(var i="",o=0;o<t.length;o++){var r=t[o];if(typeof r=="string"){i+=r;continue}var f=c?c[r.name]:void 0,h=r.modifier==="?"||r.modifier==="*",b=r.modifier==="*"||r.modifier==="+";if(Array.isArray(f)){if(!b)throw new TypeError('Expected "'.concat(r.name,'" to not repeat, but got an array'));if(f.length===0){if(h)continue;throw new TypeError('Expected "'.concat(r.name,'" to not be empty'))}for(var m=0;m<f.length;m++){var l=d(f[m],r);if(s&&!p[o].test(l))throw new TypeError('Expected all "'.concat(r.name,'" to match "').concat(r.pattern,'", but got "').concat(l,'"'));i+=r.prefix+l+r.suffix}continue}if(typeof f=="string"||typeof f=="number"){var l=d(String(f),r);if(s&&!p[o].test(l))throw new TypeError('Expected "'.concat(r.name,'" to match "').concat(r.pattern,'", but got "').concat(l,'"'));i+=r.prefix+l+r.suffix;continue}if(!h){var E=b?"an array":"a string";throw new TypeError('Expected "'.concat(r.name,'" to be ').concat(E))}}return i}}function ae(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function re(t){return t&&t.sensitive?"":"i"}const oe={class:"left-box"},ie=I({name:"Topbar"}),ce=I({...ie,setup(t){const a=Q(),e=$(),u=R(()=>e.mode==="mobile"||["side","head","single"].includes(e.settings.menu.menuMode)&&e.settings.menu.enableSubMenuCollapseButton),d=R(()=>{const i=[];return e.settings.home.enable&&i.push({path:"/",title:e.settings.home.title}),a.meta.breadcrumbNeste&&i.push(...a.meta.breadcrumbNeste.filter(o=>o.hide===!1)),i}),n=M(0),s=M(!1);V(()=>{window.addEventListener("scroll",p)}),U(()=>{window.removeEventListener("scroll",p)});function p(){n.value=(document.documentElement||document.body).scrollTop}G(n,(i,o)=>{const r=parseInt(getComputedStyle(document.documentElement||document.body).getPropertyValue("--g-topbar-height"));s.value=e.settings.topbar.mode==="sticky"&&i>o&&i>r});function c(i){return te(i)(a.params)}return(i,o)=>{const r=W,f=A("el-icon"),h=A("el-breadcrumb-item"),b=A("el-breadcrumb");return y(),T("div",{class:P(["topbar-container",{[`topbar-${v(e).settings.topbar.mode}`]:!0,shadow:v(n),hide:v(s)}]),"data-fixed-calc-width":""},[z("div",oe,[v(u)?(y(),T("div",{key:0,class:P(["sidebar-collapse",{"is-collapse":v(e).settings.menu.subMenuCollapse}]),onClick:o[0]||(o[0]=m=>v(e).toggleSidebarCollapse())},[x(f,null,{default:w(()=>[x(r,{name:"toolbar-collapse"})]),_:1})],2)):D("",!0),v(e).settings.breadcrumb.enable&&v(e).mode==="pc"&&v(e).settings.app.routeBaseOn!=="filesystem"?(y(),O(b,{key:1},{default:w(()=>[x(K,{name:"breadcrumb"},{default:w(()=>[(y(!0),T(J,null,q(v(d),(m,l)=>(y(),O(h,{key:m.path,to:l<v(d).length-1?c(m.path):""},{default:w(()=>[X(Y(m.title??"[ 无标题 ]"),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1})):D("",!0)]),x(j)],2)}}});const pe=Z(ce,[["__scopeId","data-v-ebe52c5a"]]);export{pe as default};
