
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as v}from"./index-56b33bff.js";import{a as i}from"./config-5d6224e3.js";import{d as V,Q as q,r as p,x as j,o as E,c as N,e as o,f as t,a as u,k as P,E as _,h as a,q as f}from"./index-be23d7e6.js";const M={class:"flex justify-between"},O=u("b",null,"接口请求设置",-1),R=V({__name:"interface",setup(z){const l=q({openaiBaseUrl:"",openaiProxyUrl:""}),m=p({openaiBaseUrl:[{required:!0,trigger:"blur",message:"请填写openai的请求地址"}]}),s=p();async function c(){const n=await i.queryConfig({keys:["openaiBaseUrl","openaiProxyUrl"]}),{openaiBaseUrl:e="",openaiProxyUrl:r=""}=n.data;Object.assign(l,{openaiBaseUrl:e,openaiProxyUrl:r})}function d(){var n;(n=s.value)==null||n.validate(async e=>{if(e){try{await i.setConfig({settings:g(l)}),_.success("变更配置信息成功")}catch{}c()}else _.error("请填写完整信息")})}function g(n){return Object.keys(n).map(e=>({configKey:e,configVal:n[e]}))}return j(()=>{c()}),(n,e)=>{const r=a("el-alert"),y=v,x=a("el-button"),b=a("el-input"),h=a("el-form-item"),U=a("el-col"),B=a("el-row"),w=a("el-form"),C=a("el-card");return E(),N("div",null,[o(y,null,{default:t(()=>[o(r,{closable:!1,"show-icon":"",title:"接口设置说明",description:"系统默认的地址是 https://api.openai.com 、如果你是国内的服务器可能无法访问、您可以使用自己的代理地址、或者免费的 https://open2.aiproxy.xyz 、更多配置将在后续持续开放！",type:"warning"})]),_:1}),o(C,{style:{margin:"20px"}},{header:t(()=>[u("div",M,[O,o(x,{class:"button",text:"",onClick:d},{default:t(()=>[P(" 保存设置 ")]),_:1})])]),default:t(()=>[o(w,{ref_key:"formRef",ref:s,rules:m.value,model:l,"label-width":"120px"},{default:t(()=>[o(B,null,{default:t(()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:t(()=>[o(h,{label:"请求地址",prop:"openaiBaseUrl"},{default:t(()=>[o(b,{modelValue:l.openaiBaseUrl,"onUpdate:modelValue":e[0]||(e[0]=k=>l.openaiBaseUrl=k),placeholder:"默认地址: https://api.openai.com",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof f=="function"&&f(R);export{R as default};
