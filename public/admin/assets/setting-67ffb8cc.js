
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as P}from"./index-56b33bff.js";import{d as k,r as j,o as v,c as V,e as t,f as s,I as q,a as l,H as y,l as z,w as Q,v as D,b as o,J as B,E as U,_ as R,h as n,n as O,k as $,p as T,i as L,m as A,q as I}from"./index-be23d7e6.js";const H={class:"upload-container"},J={key:1,class:"image"},K={class:"mask"},F={class:"actions"},G=["onClick"],W=["onClick"],X={key:0,class:"el-upload__tip"},Y={style:{display:"inline-block"}},Z=k({name:"ImageUpload"}),ee=k({...Z,props:{action:{type:String,required:!0},headers:{type:Object,default:()=>{}},data:{type:Object,default:()=>{}},name:{type:String,default:"file"},url:{type:String,default:""},size:{type:Number,default:2},width:{type:Number,default:150},height:{type:Number,default:150},placeholder:{type:String,default:""},notip:{type:Boolean,default:!1},ext:{type:Array,default:()=>["jpg","png","gif","bmp"]}},emits:["update:url","onSuccess"],setup(e,{emit:b}){const a=e,i=j({imageViewerVisible:!1,progress:{preview:"",percent:0}});function S(){i.value.imageViewerVisible=!0}function h(){i.value.imageViewerVisible=!1}function c(){b("update:url","")}const f=u=>{const _=u.name.split(".").at(-1),m=a.ext.includes(_),r=u.size/1024/1024<a.size;return m||U.error(`上传图片只支持 ${a.ext.join(" / ")} 格式！`),r||U.error(`上传图片大小不能超过 ${a.size}MB！`),m&&r&&(i.value.progress.preview=URL.createObjectURL(u)),m&&r},p=u=>{i.value.progress.percent=~~u.percent},g=u=>{i.value.progress.preview="",i.value.progress.percent=0,b("onSuccess",u)};return(u,x)=>{const _=R,m=n("el-icon"),r=n("el-image"),C=n("el-progress"),N=n("el-upload"),d=n("el-alert"),M=n("el-image-viewer");return v(),V("div",H,[t(N,{"show-file-list":!1,headers:e.headers,action:e.action,data:e.data,name:e.name,"before-upload":f,"on-progress":p,"on-success":g,drag:"",class:"image-upload"},{default:s(()=>[e.url===""?(v(),q(r,{key:0,src:e.url===""?e.placeholder:e.url,style:y(`width:${e.width}px;height:${e.height}px;`)},{error:s(()=>[l("div",{class:"image-slot",style:y(`width:${e.width}px;height:${e.height}px;`)},[t(m,null,{default:s(()=>[t(_,{name:"ep:plus"})]),_:1})],4)]),_:1},8,["src","style"])):(v(),V("div",J,[t(r,{src:e.url,style:y(`width:${e.width}px;height:${e.height}px;`)},null,8,["src","style"]),l("div",K,[l("div",F,[l("span",{title:"预览",onClick:z(S,["stop"])},[t(m,null,{default:s(()=>[t(_,{name:"ep:zoom-in"})]),_:1})],8,G),l("span",{title:"移除",onClick:z(c,["stop"])},[t(m,null,{default:s(()=>[t(_,{name:"ep:delete"})]),_:1})],8,W)])])])),Q(l("div",{class:"progress",style:y(`width:${e.width}px;height:${e.height}px;`)},[t(r,{src:o(i).progress.preview,style:y(`width:${e.width}px;height:${e.height}px;`)},null,8,["src","style"]),t(C,{type:"circle",width:Math.min(e.width,e.height)*.8,percentage:o(i).progress.percent},null,8,["width","percentage"])],4),[[D,e.url===""&&o(i).progress.percent]])]),_:1},8,["headers","action","data","name"]),e.notip?B("",!0):(v(),V("div",X,[l("div",Y,[t(d,{title:`上传图片支持 ${e.ext.join(" / ")} 格式，且图片大小不超过 ${e.size}MB，建议图片尺寸为 ${e.width}*${e.height}`,type:"info","show-icon":"",closable:!1},null,8,["title"])])])),o(i).imageViewerVisible?(v(),q(M,{key:1,"url-list":[e.url],teleported:"",onClose:h},null,8,["url-list"])):B("",!0)])}}});const te=O(ee,[["__scopeId","data-v-257ab5fd"]]),w=e=>(T("data-v-893df67b"),e=e(),L(),e),le=w(()=>l("h2",null,"基本设置",-1)),se=w(()=>l("h2",null,"安全设置",-1)),ae={class:"setting-list"},oe={class:"item"},ne=w(()=>l("div",{class:"content"},[l("div",{class:"title"}," 账户密码 "),l("div",{class:"desc"}," 当前密码强度：强 ")],-1)),ie={class:"action"},ce={class:"item"},de=w(()=>l("div",{class:"content"},[l("div",{class:"title"}," 密保手机 "),l("div",{class:"desc"}," 已绑定手机：187****3441 ")],-1)),ue={class:"action"},re={class:"item"},me=w(()=>l("div",{class:"content"},[l("div",{class:"title"}," 备用邮箱 "),l("div",{class:"desc"}," 当前未绑定备用邮箱 ")],-1)),pe={class:"action"},_e=k({name:"PersonalSetting"}),E=k({..._e,setup(e){const b=A(),a=j({headimg:"",mobile:"",name:"",qq:"",wechat:""}),i=h=>{h.error===""?a.value.headimg=h.data.path:U.warning(h.error)};function S(){b.push({name:"personalEditPassword"})}return(h,c)=>{const f=n("el-input"),p=n("el-form-item"),g=n("el-button"),u=n("el-form"),x=n("el-col"),_=te,m=n("el-row"),r=n("el-tab-pane"),C=n("el-tabs"),N=P;return v(),V("div",null,[t(N,null,{default:s(()=>[t(C,{"tab-position":"left",style:{height:"600px"}},{default:s(()=>[t(r,{label:"基本设置",class:"basic"},{default:s(()=>[le,t(m,{gutter:20},{default:s(()=>[t(x,{span:16},{default:s(()=>[t(u,{model:o(a),"label-width":"120px","label-suffix":"："},{default:s(()=>[t(p,{label:"名 称"},{default:s(()=>[t(f,{modelValue:o(a).name,"onUpdate:modelValue":c[0]||(c[0]=d=>o(a).name=d),placeholder:"请输入你的名称"},null,8,["modelValue"])]),_:1}),t(p,{label:"手机号"},{default:s(()=>[t(f,{modelValue:o(a).mobile,"onUpdate:modelValue":c[1]||(c[1]=d=>o(a).mobile=d),placeholder:"请输入你的手机号"},null,8,["modelValue"])]),_:1}),t(p,{label:"QQ 号"},{default:s(()=>[t(f,{modelValue:o(a).qq,"onUpdate:modelValue":c[2]||(c[2]=d=>o(a).qq=d),placeholder:"请输入你的 QQ 号"},null,8,["modelValue"])]),_:1}),t(p,{label:"微信号"},{default:s(()=>[t(f,{modelValue:o(a).wechat,"onUpdate:modelValue":c[3]||(c[3]=d=>o(a).wechat=d),placeholder:"请输入你的微信号"},null,8,["modelValue"])]),_:1}),t(p,null,{default:s(()=>[t(g,{type:"primary"},{default:s(()=>[$(" 保存 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(x,{span:8},{default:s(()=>[t(_,{url:o(a).headimg,"onUpdate:url":c[4]||(c[4]=d=>o(a).headimg=d),action:"http://scrm.1daas.com/api/upload/upload",name:"image",data:{token:"TKD628431923530324"},notip:"",class:"headimg-upload",onOnSuccess:i},null,8,["url"])]),_:1})]),_:1})]),_:1}),t(r,{label:"安全设置",class:"security"},{default:s(()=>[se,l("div",ae,[l("div",oe,[ne,l("div",ie,[t(g,{type:"primary",text:"",onClick:S},{default:s(()=>[$(" 修改 ")]),_:1})])]),l("div",ce,[de,l("div",ue,[t(g,{type:"primary",text:""},{default:s(()=>[$(" 修改 ")]),_:1})])]),l("div",re,[me,l("div",pe,[t(g,{type:"primary",text:""},{default:s(()=>[$(" 绑定 ")]),_:1})])])])]),_:1})]),_:1})]),_:1})])}}});typeof I=="function"&&I(E);const ge=O(E,[["__scopeId","data-v-893df67b"]]);export{ge as default};
