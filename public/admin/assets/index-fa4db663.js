
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as j}from"./index-56b33bff.js";import{Z as m,d as P,y as Q,r as u,Q as X,B as Z,x as G,o as r,c as B,e as o,f as t,b as s,$ as I,j as S,N as R,R as N,k as w,w as H,I as f,U as J,W as Y,E as q,h as i,X as ee,l as te,t as oe,q as K}from"./index-be23d7e6.js";import{E as ae}from"./index-68385382.js";const V={queryBadWords:(n={})=>m.get("badwords/query",{params:n}),delBadWords:n=>m.post("badwords/del",n),addBadWords:n=>m.post("badwords/add",n),updateBadWords:n=>m.post("badwords/update",n)},le=P({__name:"index",setup(n){const T=Q(),W=u(),U=u(0),_=u(!1),d=X({word:"",status:"",page:1,size:500}),D=Z(()=>T.settings.app.colorScheme),h=u([]);async function c(){try{_.value=!0;const l=await V.queryBadWords(d),{rows:a,count:v}=l.data;_.value=!1,U.value=v,h.value=a}catch{_.value=!1}}function L(l){l==null||l.resetFields(),c()}G(()=>{c()});const p=u(""),y=u(!1),C=u();async function z(l){await V.delBadWords({id:l}),q.success("删除敏感词成功"),await c()}function A(){y.value=!0,Y(()=>{C.value.input.focus()})}async function x(){p.value&&(await V.addBadWords({word:p.value}),q.success("添加敏感词成功"),d.status="",await c()),y.value=!1,p.value=""}return(l,a)=>{const v=i("el-alert"),b=j,g=i("el-form-item"),E=i("el-option"),M=i("el-select"),k=i("el-button"),$=i("el-form"),F=i("el-tag"),O=ee("loading");return r(),B("div",null,[o(b,null,{default:t(()=>[o(v,{closable:!1,"show-icon":"",title:"敏感词说明",description:"当前为自定义敏感词、触发敏感词将自动拦截、后续将加入更多三方检测平台。",type:"warning"})]),_:1}),o(b,null,{default:t(()=>[o($,{ref_key:"formRef",ref:W,inline:!0,model:d},{default:t(()=>[o(g,{label:"敏感词",prop:"word"},{default:t(()=>[o(s(I),{modelValue:d.word,"onUpdate:modelValue":a[0]||(a[0]=e=>d.word=e),placeholder:"敏感词[模糊搜索]",onKeydown:S(te(c,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"])]),_:1}),o(g,{label:"敏感词状态",prop:"status"},{default:t(()=>[o(M,{modelValue:d.status,"onUpdate:modelValue":a[1]||(a[1]=e=>d.status=e),placeholder:"请选择敏感词状态",clearable:""},{default:t(()=>[(r(!0),B(R,null,N(s(ae),e=>(r(),f(E,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(g,null,{default:t(()=>[o(k,{type:"primary",onClick:c},{default:t(()=>[w(" 查询 ")]),_:1}),o(k,{onClick:a[2]||(a[2]=e=>L(s(W)))},{default:t(()=>[w(" 重置 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),H((r(),f(b,{style:{width:"100%"}},{default:t(()=>[(r(!0),B(R,null,N(s(h),e=>(r(),f(F,{key:e.id,type:"warning",class:"mr-3 mb-3",closable:"",hit:"",effect:s(D),"disable-transitions":!0,onClose:se=>z(e.id)},{default:t(()=>[w(oe(e.word),1)]),_:2},1032,["effect","onClose"]))),128)),s(y)?(r(),f(s(I),{key:0,ref_key:"InputRef",ref:C,modelValue:s(p),"onUpdate:modelValue":a[3]||(a[3]=e=>J(p)?p.value=e:null),class:"ml-1",style:{width:"80px"},size:"small",onKeyup:S(x,["enter"]),onBlur:x},null,8,["modelValue","onKeyup"])):(r(),f(k,{key:1,class:"ml-1",size:"small",onClick:A},{default:t(()=>[w(" + New Word ")]),_:1}))]),_:1})),[[O,s(_)]])])}}});typeof K=="function"&&K(le);export{le as default};
