
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as w}from"./index-56b33bff.js";import{a as _}from"./config-5d6224e3.js";import{d as q,Q as U,r as c,x as S,o as k,c as R,e,f as l,a as g,k as z,E as j,h as n,q as I}from"./index-be23d7e6.js";const G={class:"flex justify-between"},L=g("b",null,"MJ参数设置",-1),P=q({__name:"index",setup(M){const t=U({mjId:"",mjApplicationId:"",mjGuildId:"",mjChannelId:"",mjSessionId:"",mjVersion:"",mjAuthorization:"",mjRateLimit:"",mjProxy:0}),V=c({mjApplicationId:[{required:!0,trigger:"blur",message:"请填写应用ID"}],mjGuildId:[{required:!0,trigger:"blur",message:"请填写工会ID"}],mjChannelId:[{required:!0,trigger:"blur",message:"请填写通道ID"}],mjSessionId:[{required:!0,trigger:"blur",message:"请填写绘画ID"}],mjVersion:[{required:!0,trigger:"blur",message:"请填写版本ID"}],mjId:[{required:!0,trigger:"blur",message:"请填写基础ID"}],mjAuthorization:[{required:!0,trigger:"blur",message:"请填写授权令牌"}]}),s=c();async function p(){const m=await _.queryConfig({keys:["mjApplicationId","mjGuildId","mjChannelId","mjId","mjSessionId","mjVersion","mjAuthorization","mjRateLimit","mjProxy"]});Object.assign(t,m.data)}function b(){var m;(m=s.value)==null||m.validate(async o=>{if(o){try{await _.setConfig({settings:x(t)}),j.success("变更配置信息成功")}catch{}p()}else j.error("请填写完整信息")})}function x(m){return Object.keys(m).map(o=>({configKey:o,configVal:m[o]}))}return S(()=>{p()}),(m,o)=>{const f=n("el-alert"),y=w,D=n("el-button"),i=n("el-input"),d=n("el-form-item"),r=n("el-col"),u=n("el-row"),h=n("el-divider"),C=n("el-switch"),v=n("el-form"),A=n("el-card");return k(),R("div",null,[e(y,null,{default:l(()=>[e(f,{closable:!1,"show-icon":"",title:"MJ参数说明",description:"详细配置请参考说明文档、当前暂未开放卡池、单个账号并发限制为三、建议您限制请求时间、我们会为您默认开启队列、人数超过限制将需要进行排队！",type:"warning"})]),_:1}),e(A,{style:{margin:"20px"}},{header:l(()=>[g("div",G,[L,e(D,{class:"button",text:"",onClick:b},{default:l(()=>[z(" 保存设置 ")]),_:1})])]),default:l(()=>[e(v,{ref_key:"formRef",ref:s,rules:V.value,model:t,"label-width":"120px"},{default:l(()=>[e(u,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"ID信息",prop:"mjId"},{default:l(()=>[e(i,{modelValue:t.mjId,"onUpdate:modelValue":o[0]||(o[0]=a=>t.mjId=a),placeholder:"请填写ID信息",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"工会ID",prop:"mjGuildId"},{default:l(()=>[e(i,{modelValue:t.mjGuildId,"onUpdate:modelValue":o[1]||(o[1]=a=>t.mjGuildId=a),placeholder:"请填写工会ID",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"通道ID",prop:"mjChannelId"},{default:l(()=>[e(i,{modelValue:t.mjChannelId,"onUpdate:modelValue":o[2]||(o[2]=a=>t.mjChannelId=a),placeholder:"请填写通道ID",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"会话ID",prop:"mjSessionId"},{default:l(()=>[e(i,{modelValue:t.mjSessionId,"onUpdate:modelValue":o[3]||(o[3]=a=>t.mjSessionId=a),placeholder:"请填写会话ID",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"版本信息",prop:"mjVersion"},{default:l(()=>[e(i,{modelValue:t.mjVersion,"onUpdate:modelValue":o[4]||(o[4]=a=>t.mjVersion=a),placeholder:"请填写版本信息",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"授权令牌",prop:"mjAuthorization"},{default:l(()=>[e(i,{modelValue:t.mjAuthorization,"onUpdate:modelValue":o[5]||(o[5]=a=>t.mjAuthorization=a),placeholder:"请填写授权令牌",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"应用程序ID",prop:"mjApplicationId"},{default:l(()=>[e(i,{modelValue:t.mjApplicationId,"onUpdate:modelValue":o[6]||(o[6]=a=>t.mjApplicationId=a),placeholder:"请填写应用程序ID",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(h),e(u,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"速率限制时间",prop:"mjRateLimit"},{default:l(()=>[e(i,{modelValue:t.mjRateLimit,"onUpdate:modelValue":o[7]||(o[7]=a=>t.mjRateLimit=a),placeholder:"请设置单次接口限制时长(单位S)[默认两分钟]",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"是否开启代理",prop:"mjProxy"},{default:l(()=>[e(C,{modelValue:t.mjProxy,"onUpdate:modelValue":o[8]||(o[8]=a=>t.mjProxy=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof I=="function"&&I(P);export{P as default};
