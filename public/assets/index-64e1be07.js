import{a5 as me,aZ as ct,c as L,r as M,X as Qe,a_ as Je,d as q,Z as De,a$ as Le,L as we,at as dt,ac as ut,W as ft,b0 as pt,a1 as Me,G as P,b1 as ht,a3 as Ze,b2 as be,aw as et,al as vt,ab as ce,b3 as mt,b4 as bt,b5 as gt,J as N,b6 as _e,H,ap as K,K as oe,Q as yt,$ as wt,O as xe,af as Ue,T as ge,b7 as _t,_ as xt,a2 as St,a0 as $t,b8 as Ct,b9 as Ge,ba as kt,ao as J,av as Rt,bb as Et,P as zt,aa as Tt,bc as Q,bd as fe,o as Se,be as At,bf as Pt,bg as He,a8 as Bt,F as ye,bh as Nt,bi as It,bj as je,z as tt,u as $e,aI as Ce,b as ke,aP as Ot,m as U,e as Z,f as m,w as g,g as o,h as c,t as O,v as F,p as te,q as Y,aE as ne,i as Mt,x as ee,j as ve,aW as nt,bk as Dt,bl as Ne,B as Ie,bm as Ye,bn as Lt,aL as jt,aK as Ft,n as Xe,aO as Ut,aV as Gt,aR as Ht,aX as Yt,aY as Ve,bo as Xt,aD as Vt}from"./index-2a868905.js";import{g as qt,a as Fe,N as rt,c as ot,d as qe,b as Wt}from"./avatar-2fb2fff8.js";import{_ as Kt}from"./titleBar.vue_vue_type_script_setup_true_lang-03b2fda6.js";import{b as Qt,N as pe}from"./Tabs-2e12da33.js";import"./utils-7805148d.js";import"./Select-3febf034.js";import"./Ellipsis-ebcadc49.js";function Jt(e){if(typeof e=="number")return{"":e.toString()};const n={};return e.split(/ +/).forEach(r=>{if(r==="")return;const[f,i]=r.split(":");i===void 0?n[""]=f:n[f]=i}),n}function ie(e,n){var r;if(e==null)return;const f=Jt(e);if(n===void 0)return f[""];if(typeof n=="string")return(r=f[n])!==null&&r!==void 0?r:f[""];if(Array.isArray(n)){for(let i=n.length-1;i>=0;--i){const a=n[i];if(a in f)return f[a]}return f[""]}else{let i,a=-1;return Object.keys(f).forEach(s=>{const t=Number(s);!Number.isNaN(t)&&n>=t&&t>=a&&(a=t,i=f[s])}),i}}function Zt(e){var n;const r=(n=e.dirs)===null||n===void 0?void 0:n.find(({dir:f})=>f===me);return!!(r&&r.value===!1)}const en={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function tn(e){return`(min-width: ${e}px)`}const le={};function nn(e=en){if(!ct)return L(()=>[]);if(typeof window.matchMedia!="function")return L(()=>[]);const n=M({}),r=Object.keys(e),f=(i,a)=>{i.matches?n.value[a]=!0:n.value[a]=!1};return r.forEach(i=>{const a=e[i];let s,t;le[a]===void 0?(s=window.matchMedia(tn(a)),s.addEventListener?s.addEventListener("change",d=>{t.forEach(u=>{u(d,i)})}):s.addListener&&s.addListener(d=>{t.forEach(u=>{u(d,i)})}),t=new Set,le[a]={mql:s,cbs:t}):(s=le[a].mql,t=le[a].cbs),t.add(f),s.matches&&t.forEach(d=>{d(s,i)})}),Qe(()=>{r.forEach(i=>{const{cbs:a}=le[e[i]];a.has(f)&&a.delete(f)})}),L(()=>{const{value:i}=n;return r.filter(a=>i[a])})}let We=!1;function rn(){if(Je&&window.CSS&&!We&&(We=!0,"registerProperty"in(window==null?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}const on=q({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const n=M(!!e.show),r=M(null),f=De(Le);let i=0,a="",s=null;const t=M(!1),d=M(!1),u=L(()=>e.placement==="top"||e.placement==="bottom"),{mergedClsPrefixRef:b,mergedRtlRef:h}=we(e),x=dt("Drawer",h,b),B=A=>{d.value=!0,i=u.value?A.clientY:A.clientX,a=document.body.style.cursor,document.body.style.cursor=u.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",p),document.body.addEventListener("mouseleave",T),document.body.addEventListener("mouseup",E)},S=()=>{s!==null&&(window.clearTimeout(s),s=null),d.value?t.value=!0:s=window.setTimeout(()=>{t.value=!0},300)},v=()=>{s!==null&&(window.clearTimeout(s),s=null),t.value=!1},{doUpdateHeight:l,doUpdateWidth:_}=f,p=A=>{var D,j;if(d.value)if(u.value){let X=((D=r.value)===null||D===void 0?void 0:D.offsetHeight)||0;const W=i-A.clientY;X+=e.placement==="bottom"?W:-W,l(X),i=A.clientY}else{let X=((j=r.value)===null||j===void 0?void 0:j.offsetWidth)||0;const W=i-A.clientX;X+=e.placement==="right"?W:-W,_(X),i=A.clientX}},E=()=>{d.value&&(i=0,d.value=!1,document.body.style.cursor=a,document.body.removeEventListener("mousemove",p),document.body.removeEventListener("mouseup",E),document.body.removeEventListener("mouseleave",T))},T=E;ut(()=>{e.show&&(n.value=!0)}),ft(()=>e.show,A=>{A||E()}),Qe(()=>{E()});const $=L(()=>{const{show:A}=e,D=[[me,A]];return e.showMask||D.push([vt,e.onClickoutside,void 0,{capture:!0}]),D});function I(){var A;n.value=!1,(A=e.onAfterLeave)===null||A===void 0||A.call(e)}return pt(L(()=>e.blockScroll&&n.value)),ce(mt,r),ce(bt,null),ce(gt,null),{bodyRef:r,rtlEnabled:x,mergedClsPrefix:f.mergedClsPrefixRef,isMounted:f.isMountedRef,mergedTheme:f.mergedThemeRef,displayed:n,transitionName:L(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[e.placement]),handleAfterLeave:I,bodyDirectives:$,handleMousedownResizeTrigger:B,handleMouseenterResizeTrigger:S,handleMouseleaveResizeTrigger:v,isDragging:d,isHoverOnResizeTrigger:t}},render(){const{$slots:e,mergedClsPrefix:n}=this;return this.displayDirective==="show"||this.displayed||this.show?Me(P("div",{role:"none"},P(ht,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>P(Ze,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>Me(P("div",be(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${n}-drawer`,this.rtlEnabled&&`${n}-drawer--rtl`,`${n}-drawer--${this.placement}-placement`,this.isDragging&&`${n}-drawer--unselectable`,this.nativeScrollbar&&`${n}-drawer--native-scrollbar`]}),[this.resizable?P("div",{class:[`${n}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${n}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?P("div",{class:`${n}-drawer-content-wrapper`,style:this.contentStyle,role:"none"},e):P(et,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:`${n}-drawer-content-wrapper`,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[me,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:sn,cubicBezierEaseOut:an}=_e;function ln({duration:e="0.3s",leaveDuration:n="0.2s",name:r="slide-in-from-right"}={}){return[N(`&.${r}-transition-leave-active`,{transition:`transform ${n} ${sn}`}),N(`&.${r}-transition-enter-active`,{transition:`transform ${e} ${an}`}),N(`&.${r}-transition-enter-to`,{transform:"translateX(0)"}),N(`&.${r}-transition-enter-from`,{transform:"translateX(100%)"}),N(`&.${r}-transition-leave-from`,{transform:"translateX(0)"}),N(`&.${r}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:cn,cubicBezierEaseOut:dn}=_e;function un({duration:e="0.3s",leaveDuration:n="0.2s",name:r="slide-in-from-left"}={}){return[N(`&.${r}-transition-leave-active`,{transition:`transform ${n} ${cn}`}),N(`&.${r}-transition-enter-active`,{transition:`transform ${e} ${dn}`}),N(`&.${r}-transition-enter-to`,{transform:"translateX(0)"}),N(`&.${r}-transition-enter-from`,{transform:"translateX(-100%)"}),N(`&.${r}-transition-leave-from`,{transform:"translateX(0)"}),N(`&.${r}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:fn,cubicBezierEaseOut:pn}=_e;function hn({duration:e="0.3s",leaveDuration:n="0.2s",name:r="slide-in-from-top"}={}){return[N(`&.${r}-transition-leave-active`,{transition:`transform ${n} ${fn}`}),N(`&.${r}-transition-enter-active`,{transition:`transform ${e} ${pn}`}),N(`&.${r}-transition-enter-to`,{transform:"translateY(0)"}),N(`&.${r}-transition-enter-from`,{transform:"translateY(-100%)"}),N(`&.${r}-transition-leave-from`,{transform:"translateY(0)"}),N(`&.${r}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:vn,cubicBezierEaseOut:mn}=_e;function bn({duration:e="0.3s",leaveDuration:n="0.2s",name:r="slide-in-from-bottom"}={}){return[N(`&.${r}-transition-leave-active`,{transition:`transform ${n} ${vn}`}),N(`&.${r}-transition-enter-active`,{transition:`transform ${e} ${mn}`}),N(`&.${r}-transition-enter-to`,{transform:"translateY(0)"}),N(`&.${r}-transition-enter-from`,{transform:"translateY(100%)"}),N(`&.${r}-transition-leave-from`,{transform:"translateY(0)"}),N(`&.${r}-transition-leave-to`,{transform:"translateY(100%)"})]}const gn=N([H("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[ln(),un(),hn(),bn(),K("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),K("native-scrollbar",[H("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),oe("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[K("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),H("drawer-content-wrapper",`
 box-sizing: border-box;
 `),H("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[K("native-scrollbar",[H("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),H("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),H("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),H("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[oe("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),H("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),K("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 `,[oe("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),K("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 `,[oe("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),K("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 `,[oe("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),K("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 `,[oe("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),N("body",[N(">",[H("drawer-container",{position:"fixed"})])]),H("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[N("> *",{pointerEvents:"all"})]),H("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[K("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),yt({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),yn=Object.assign(Object.assign({},xe.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),wn=q({name:"Drawer",inheritAttrs:!1,props:yn,setup(e){const{mergedClsPrefixRef:n,namespaceRef:r,inlineThemeDisabled:f}=we(e),i=wt(),a=xe("Drawer","-drawer",gn,Ct,e,n),s=M(e.defaultWidth),t=M(e.defaultHeight),d=Ue(ge(e,"width"),s),u=Ue(ge(e,"height"),t),b=L(()=>{const{placement:$}=e;return $==="top"||$==="bottom"?"":Ge(d.value)}),h=L(()=>{const{placement:$}=e;return $==="left"||$==="right"?"":Ge(u.value)}),x=$=>{const{onUpdateWidth:I,"onUpdate:width":A}=e;I&&J(I,$),A&&J(A,$),s.value=$},B=$=>{const{onUpdateHeight:I,"onUpdate:width":A}=e;I&&J(I,$),A&&J(A,$),t.value=$},S=L(()=>[{width:b.value,height:h.value},e.drawerStyle||""]);function v($){const{onMaskClick:I,maskClosable:A}=e;A&&p(!1),I&&I($)}const l=_t();function _($){var I;(I=e.onEsc)===null||I===void 0||I.call(e),e.show&&e.closeOnEsc&&kt($)&&!l.value&&p(!1)}function p($){const{onHide:I,onUpdateShow:A,"onUpdate:show":D}=e;A&&J(A,$),D&&J(D,$),I&&!$&&J(I,$)}ce(Le,{isMountedRef:i,mergedThemeRef:a,mergedClsPrefixRef:n,doUpdateShow:p,doUpdateHeight:B,doUpdateWidth:x});const E=L(()=>{const{common:{cubicBezierEaseInOut:$,cubicBezierEaseIn:I,cubicBezierEaseOut:A},self:{color:D,textColor:j,boxShadow:X,lineHeight:W,headerPadding:Re,footerPadding:se,bodyPadding:Ee,titleFontSize:ze,titleTextColor:Te,titleFontWeight:Ae,headerBorderBottom:re,footerBorderTop:ae,closeIconColor:Pe,closeIconColorHover:Be,closeIconColorPressed:R,closeColorHover:w,closeColorPressed:y,closeIconSize:C,closeSize:k,closeBorderRadius:z,resizableTriggerColorHover:G}}=a.value;return{"--n-line-height":W,"--n-color":D,"--n-text-color":j,"--n-box-shadow":X,"--n-bezier":$,"--n-bezier-out":A,"--n-bezier-in":I,"--n-header-padding":Re,"--n-body-padding":Ee,"--n-footer-padding":se,"--n-title-text-color":Te,"--n-title-font-size":ze,"--n-title-font-weight":Ae,"--n-header-border-bottom":re,"--n-footer-border-top":ae,"--n-close-icon-color":Pe,"--n-close-icon-color-hover":Be,"--n-close-icon-color-pressed":R,"--n-close-size":k,"--n-close-color-hover":w,"--n-close-color-pressed":y,"--n-close-icon-size":C,"--n-close-border-radius":z,"--n-resize-trigger-color-hover":G}}),T=f?xt("drawer",void 0,E,e):void 0;return{mergedClsPrefix:n,namespace:r,mergedBodyStyle:S,handleMaskClick:v,handleEsc:_,mergedTheme:a,cssVars:f?void 0:E,themeClass:T==null?void 0:T.themeClass,onRender:T==null?void 0:T.onRender,isMounted:i}},render(){const{mergedClsPrefix:e}=this;return P($t,{to:this.to,show:this.show},{default:()=>{var n;return(n=this.onRender)===null||n===void 0||n.call(this),Me(P("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?P(Ze,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?P("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,this.showMask==="transparent"&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,P(on,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleMaskClick}),this.$slots)),[[St,{zIndex:this.zIndex,enabled:this.show}]])}})}}),_n={title:{type:String},headerStyle:[Object,String],footerStyle:[Object,String],bodyStyle:[Object,String],bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},xn=q({name:"DrawerContent",props:_n,setup(){const e=De(Le,null);e||Rt("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:n}=e;function r(){n(!1)}return{handleCloseClick:r,mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:n,nativeScrollbar:r,mergedTheme:f,bodyStyle:i,bodyContentStyle:a,headerStyle:s,footerStyle:t,scrollbarProps:d,closable:u,$slots:b}=this;return P("div",{role:"none",class:[`${n}-drawer-content`,r&&`${n}-drawer-content--native-scrollbar`]},b.header||e||u?P("div",{class:`${n}-drawer-header`,style:s,role:"none"},P("div",{class:`${n}-drawer-header__main`,role:"heading","aria-level":"1"},b.header!==void 0?b.header():e),u&&P(Et,{onClick:this.handleCloseClick,clsPrefix:n,class:`${n}-drawer-header__close`,absolute:!0})):null,r?P("div",{class:`${n}-drawer-body`,style:i,role:"none"},P("div",{class:`${n}-drawer-body-content-wrapper`,style:a,role:"none"},b)):P(et,Object.assign({themeOverrides:f.peerOverrides.Scrollbar,theme:f.peers.Scrollbar},d,{class:`${n}-drawer-body`,contentClass:`${n}-drawer-body-content-wrapper`,contentStyle:a}),b),b.footer?P("div",{class:`${n}-drawer-footer`,style:t,role:"none"},b.footer()):null)}}),Ke=1,st=zt("n-grid"),at=1,Sn={span:{type:[Number,String],default:at},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},V=q({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Sn,setup(){const{isSsrRef:e,xGapRef:n,itemStyleRef:r,overflowRef:f,layoutShiftDisabledRef:i}=De(st),a=Tt();return{overflow:f,itemStyle:r,layoutShiftDisabled:i,mergedXGap:L(()=>Q(n.value||0)),deriveStyle:()=>{e.value;const{privateSpan:s=at,privateShow:t=!0,privateColStart:d=void 0,privateOffset:u=0}=a.vnode.props,{value:b}=n,h=Q(b||0);return{display:t?"":"none",gridColumn:`${d??`span ${s}`} / span ${s}`,marginLeft:u?`calc((100% - (${s} - 1) * ${h}) / ${s} * ${u} + ${h} * ${u})`:""}}}},render(){var e,n;if(this.layoutShiftDisabled){const{span:r,offset:f,mergedXGap:i}=this;return P("div",{style:{gridColumn:`span ${r} / span ${r}`,marginLeft:f?`calc((100% - (${r} - 1) * ${i}) / ${r} * ${f} + ${i} * ${f})`:""}},this.$slots)}return P("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e,{overflow:this.overflow}))}}),$n={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},it=24,Oe="__ssr__",Cn={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:it},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},de=q({name:"Grid",inheritAttrs:!1,props:Cn,setup(e){const{mergedClsPrefixRef:n,mergedBreakpointsRef:r}=we(e),f=/^\d+$/,i=M(void 0),a=nn((r==null?void 0:r.value)||$n),s=fe(()=>!!(e.itemResponsive||!f.test(e.cols.toString())||!f.test(e.xGap.toString())||!f.test(e.yGap.toString()))),t=L(()=>{if(s.value)return e.responsive==="self"?i.value:a.value}),d=fe(()=>{var _;return(_=Number(ie(e.cols.toString(),t.value)))!==null&&_!==void 0?_:it}),u=fe(()=>ie(e.xGap.toString(),t.value)),b=fe(()=>ie(e.yGap.toString(),t.value)),h=_=>{i.value=_.contentRect.width},x=_=>{Bt(h,_)},B=M(!1),S=L(()=>{if(e.responsive==="self")return x}),v=M(!1),l=M();return Se(()=>{const{value:_}=l;_&&_.hasAttribute(Oe)&&(_.removeAttribute(Oe),v.value=!0)}),ce(st,{layoutShiftDisabledRef:ge(e,"layoutShiftDisabled"),isSsrRef:v,itemStyleRef:ge(e,"itemStyle"),xGapRef:u,overflowRef:B}),{isSsr:!Je,contentEl:l,mergedClsPrefix:n,style:L(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:Q(e.xGap),rowGap:Q(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${d.value}, minmax(0, 1fr))`,columnGap:Q(u.value),rowGap:Q(b.value)}),isResponsive:s,responsiveQuery:t,responsiveCols:d,handleResize:S,overflow:B}},render(){if(this.layoutShiftDisabled)return P("div",be({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var n,r,f,i,a,s,t;this.overflow=!1;const d=Pt(qt(this)),u=[],{collapsed:b,collapsedRows:h,responsiveCols:x,responsiveQuery:B}=this;d.forEach(p=>{var E,T,$,I;if(((E=p==null?void 0:p.type)===null||E===void 0?void 0:E.__GRID_ITEM__)!==!0)return;if(Zt(p)){const j=He(p);j.props?j.props.privateShow=!1:j.props={privateShow:!1},u.push({child:j,rawChildSpan:0});return}p.dirs=((T=p.dirs)===null||T===void 0?void 0:T.filter(({dir:j})=>j!==me))||null;const A=He(p),D=Number((I=ie(($=A.props)===null||$===void 0?void 0:$.span,B))!==null&&I!==void 0?I:Ke);D!==0&&u.push({child:A,rawChildSpan:D})});let S=0;const v=(n=u[u.length-1])===null||n===void 0?void 0:n.child;if(v!=null&&v.props){const p=(r=v.props)===null||r===void 0?void 0:r.suffix;p!==void 0&&p!==!1&&(S=(i=(f=v.props)===null||f===void 0?void 0:f.span)!==null&&i!==void 0?i:Ke,v.props.privateSpan=S,v.props.privateColStart=x+1-S,v.props.privateShow=(a=v.props.privateShow)!==null&&a!==void 0?a:!0)}let l=0,_=!1;for(const{child:p,rawChildSpan:E}of u){if(_&&(this.overflow=!0),!_){const T=Number((t=ie((s=p.props)===null||s===void 0?void 0:s.offset,B))!==null&&t!==void 0?t:0),$=Math.min(E+T,x);if(p.props?(p.props.privateSpan=$,p.props.privateOffset=T):p.props={privateSpan:$,privateOffset:T},b){const I=l%x;$+I>x&&(l+=x-I),$+l+S>h*x?_=!0:l+=$}}_&&(p.props?p.props.privateShow!==!0&&(p.props.privateShow=!1):p.props={privateShow:!1})}return P("div",be({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[Oe]:this.isSsr||void 0},this.$attrs),u.map(({child:p})=>p))};return this.isResponsive&&this.responsive==="self"?P(At,{onResize:this.handleResize},{default:e}):e()}}),kn=N([H("skeleton",`
 height: 1em;
 width: 100%;
 transition: background-color .3s var(--n-bezier);
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 animation: 2s skeleton-loading infinite cubic-bezier(0.36, 0, 0.64, 1);
 background-color: var(--n-color-start);
 `),N("@keyframes skeleton-loading",`
 0% {
 background: var(--n-color-start);
 }
 40% {
 background: var(--n-color-end);
 }
 80% {
 background: var(--n-color-start);
 }
 100% {
 background: var(--n-color-start);
 }
 `)]),Rn=Object.assign(Object.assign({},xe.props),{text:Boolean,round:Boolean,circle:Boolean,height:[String,Number],width:[String,Number],size:String,repeat:{type:Number,default:1},animated:{type:Boolean,default:!0},sharp:{type:Boolean,default:!0}}),he=q({name:"Skeleton",inheritAttrs:!1,props:Rn,setup(e){rn();const{mergedClsPrefixRef:n}=we(e),r=xe("Skeleton","-skeleton",kn,Nt,e,n);return{mergedClsPrefix:n,style:L(()=>{var f,i;const a=r.value,{common:{cubicBezierEaseInOut:s}}=a,t=a.self,{color:d,colorEnd:u,borderRadius:b}=t;let h;const{circle:x,sharp:B,round:S,width:v,height:l,size:_,text:p,animated:E}=e;_!==void 0&&(h=t[It("height",_)]);const T=x?(f=v??l)!==null&&f!==void 0?f:h:v,$=(i=x?v??l:l)!==null&&i!==void 0?i:h;return{display:p?"inline-block":"",verticalAlign:p?"-0.125em":"",borderRadius:x?"50%":S?"4096px":B?"":b,width:typeof T=="number"?Q(T):T,height:typeof $=="number"?Q($):$,animation:E?"":"none","--n-bezier":s,"--n-color-start":d,"--n-color-end":u}})}},render(){const{repeat:e,style:n,mergedClsPrefix:r,$attrs:f}=this,i=P("div",be({class:`${r}-skeleton`,style:n},f));return e>1?P(ye,null,Array.apply(null,{length:e}).map(a=>[i,`
`])):i}});function En(){return je({url:"/balance/rechargeLog"})}function zn(e){return tt({url:"/crami/useCrami",data:e})}function Tn(e){return je({url:"/crami/queryAllPackage",data:e})}const An={1:"注册赠送",2:"受邀请赠送",3:"邀请他人赠送",4:"购买卡密充值",5:"管理员赠送"},Pn="/assets/preferential-0ee5bc79.png",Bn=c("div",null,"用户钱包余额",-1),Nn=c("div",{class:"text-[#95aac9] mb-2 text-base"}," 对话余额 ",-1),In={class:"text-3xl text-[#555]"},On=c("span",{class:"ml-4 text-[#989898]"},"每次对话消耗1次对话余额！",-1),Mn=c("div",{class:"text-[#95aac9] mb-2 text-base"}," 普通绘画余额 ",-1),Dn={class:"text-3xl text-[#555]"},Ln=c("span",{class:"ml-4 text-[#989898]"},"每次绘图消耗1次绘画余额！",-1),jn=c("div",{class:"text-[#95aac9] mb-2 text-base"}," MJ绘画余额 ",-1),Fn={class:"text-3xl text-[#555]"},Un=c("span",{class:"ml-4 text-[#989898]"},"每次绘图消耗1次高级绘画余额！",-1),Gn=c("div",{class:"text-[#95aac9] mb-2 text-base"}," 卡密充值 ",-1),Hn=c("div",null,"充值记录",-1),Yn={class:"relative"},Xn=["src"],Vn=["src"],qn={class:"flex justify-between items-end min-h-28"},Wn=c("span",{class:"text-sm font-bold mr-1"},"对话额度",-1),Kn={class:"font-bold"},Qn={key:0,class:"text-[#fc6eef] font-bold text-lg ml-2"},Jn=c("span",{class:"text-sm"},"+",-1),Zn={class:"flex justify-between items-end min-h-28"},er=c("span",{class:"text-sm font-bold mr-1"},"绘画额度",-1),tr={class:"font-bold"},nr={key:0,class:"text-[#fc6eef] font-bold text-lg ml-2"},rr={class:"flex justify-between items-end mt-5"},or={class:"text-xl text-[red] font-bold"},sr=q({__name:"wallet",setup(e){const{isSmallXl:n}=$e(),r=Ce(),f=ke(),i=Ot(),a=r.userBalance,s=M(""),t=M(!1),d=M([]),u=[{title:"订单编号",key:"uid"},{title:"充值类型",key:"rechargeType",render(l){return An[l.rechargeType]}},{title:"对话次数",key:"usesLeft"},{title:"绘画次数",key:"paintCount"},{title:"MJ次数",key:"balance"},{title:"充值时间",key:"createdAt",render(l){return nt(new Date(l.createdAt),"YYYY-MM-DD HH:mm:ss")}}],b=M([]);async function h(){const l=await En(),{rows:_}=l.data;b.value=_}async function x(){if(!s.value)return f.warning("请先填写卡密！");await zn({code:s.value}),f.success("卡密兑换成功、祝您使用愉快！"),h(),r.getUserInfo(),window.location.reload()}function B(){t.value=!0}async function S(){const l=await Tn({status:1});d.value=l.data.rows}function v(){const{buyCramiAddress:l,vxNumber:_}=r.globleConfig;if(!l)return i.success({title:"温馨提醒",content:`自动发卡程序暂未开放！当前如有购买套餐需求请添加站长VX： <${_}> 进行购买！`,positiveText:"知道了"});window.open(l,"_blank")}return Se(()=>{h()}),(l,_)=>(U(),Z(ye,null,[m(o(ne),null,{header:g(()=>[Bn]),default:g(()=>[m(o(de),{"x-gap":24,"y-gap":24,cols:o(n)?1:2,class:"mt-3"},{default:g(()=>[m(o(V),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:g(()=>[Nn,c("b",In,"$: "+O(o(a).usesLeft??0),1),F(),On]),_:1}),m(o(V),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:g(()=>[Mn,c("b",Dn,"$: "+O(o(a).paintCount??0),1),F(),Ln]),_:1}),m(o(V),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:g(()=>[jn,c("b",Fn,"$: "+O(o(a).balance??0),1),F(),Un]),_:1}),m(o(V),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:g(()=>[Gn,m(o(Fe),{wrap:!1},{default:g(()=>[m(o(te),{value:s.value,"onUpdate:value":_[0]||(_[0]=p=>s.value=p),placeholder:"请粘贴或填写您的卡密信息！",class:"mr-3",maxlength:"128","show-count":"",clearable:""},null,8,["value"]),m(o(Y),{type:"primary",onClick:x},{default:g(()=>[F(" 兑换 ")]),_:1}),m(o(Y),{type:"success",onClick:B},{default:g(()=>[F(" 购买卡密 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["cols"])]),_:1}),m(o(ne),{class:"mt-5"},{header:g(()=>[Hn]),default:g(()=>[m(o(rt),{columns:u,data:b.value},null,8,["data"])]),_:1}),m(o(wn),{show:t.value,"onUpdate:show":_[1]||(_[1]=p=>t.value=p),width:o(n)?"100%":502,"on-after-enter":S},{default:g(()=>[m(o(xn),{title:"套餐购买",closable:""},{default:g(()=>[m(o(de),{"x-gap":15,"y-gap":15,cols:o(n)?1:2,class:"mt-3"},{default:g(()=>[(U(!0),Z(ye,null,Mt(d.value,(p,E)=>(U(),ee(o(V),{key:E},{default:g(()=>[m(o(ne),{size:"small",embedded:""},{header:g(()=>[c("div",Yn,[c("b",null,O(p.name),1),p.extraReward===1?(U(),Z("img",{key:0,src:o(Pn),class:"w-10 absolute -right-4 -top-3"},null,8,Xn)):ve("",!0)])]),cover:g(()=>[c("img",{src:p.coverImg},null,8,Vn)]),default:g(()=>[c("div",null,[c("p",null,O(p.des),1),c("div",qn,[c("div",null,[Wn,c("span",Kn,O(p.usesLeft),1)]),p.extraReward===1?(U(),Z("span",Qn,[Jn,F(O(p.extraUsesLeft),1)])):ve("",!0)]),c("div",Zn,[c("div",null,[er,c("span",tr,O(p.paintCount),1)]),p.extraReward===1?(U(),Z("span",nr," +"+O(p.extraPaintCount),1)):ve("",!0)]),c("div",rr,[c("i",or,O(`￥${p.price}`),1),m(o(Y),{type:"primary",dashed:"",size:"small",onClick:v},{default:g(()=>[F(" 购买套餐 ")]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["cols"])]),_:1})]),_:1},8,["show","width"])],64))}}),ar=c("div",null,"变更您的密码",-1),ir={class:"flex justify-between"},lr=c("span",{class:"text-[#95AAC9]"},"更新密码完成后将重新登录！",-1),cr=c("b",{class:"text-base"},"密码要求",-1),dr=c("p",{class:"text-[#95AAC9] mt-3"}," 要创建一个新的密码，你必须满足以下所有要求。 ",-1),ur=c("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最少6个字符 ",-1),fr=c("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最多30个字符 ",-1),pr=c("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 至少带有一个数字 ",-1),hr=q({__name:"password",setup(e){const n=M({oldPassword:"",password:"",reenteredPassword:""}),r=n,f=M(null),i=M(null),a={oldPassword:[{required:!0,min:6,message:"密码最短长度为6位数",trigger:["blur"]},{required:!0,max:30,message:"密码最长长度为30位数",trigger:["blur"]}],password:[{required:!0,message:"请输入密码"}],reenteredPassword:[{required:!0,message:"请再次输入密码",trigger:["input","blur"]},{validator:s,message:"两次密码输入不一致",trigger:"input"},{validator:t,message:"两次密码输入不一致",trigger:["blur","password-input"]}]};function s(v,l){return!!n.value.password&&n.value.password.startsWith(l)&&n.value.password.length>=l.length}function t(v,l){return l===n.value.password}function d(){var v;n.value.reenteredPassword&&((v=i.value)==null||v.validate({trigger:"password-input"}))}const{isSmallXl:u}=$e(),b=Ce(),h=ke();async function x(v){(await Lt(v)).success&&h.success("密码更新成功、请重新登录系统！"),B(),b.updatePasswordSuccess()}function B(){n.value={oldPassword:"",password:"",reenteredPassword:""}}function S(v){var l;v.preventDefault(),(l=f.value)==null||l.validate(async _=>{if(!_){const{oldPassword:p,password:E}=n.value;x({oldPassword:p,password:E})}})}return(v,l)=>(U(),ee(o(ne),null,{header:g(()=>[ar]),default:g(()=>[m(o(de),{"x-gap":24,"y-gap":24,cols:o(u)?1:3,class:"mt-3"},{default:g(()=>[m(o(V),{class:"border rounded-sm p-3",span:"2"},{default:g(()=>[m(o(Dt),{ref_key:"formRef",ref:f,model:o(r),rules:a},{default:g(()=>[m(o(Ne),{path:"oldPassword",label:"旧密码"},{default:g(()=>[m(o(te),{value:o(r).oldPassword,"onUpdate:value":l[0]||(l[0]=_=>o(r).oldPassword=_),onKeydown:l[1]||(l[1]=Ie(Ye(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),m(o(Ne),{path:"password",label:"新密码"},{default:g(()=>[m(o(te),{value:o(r).password,"onUpdate:value":l[2]||(l[2]=_=>o(r).password=_),type:"password",onInput:d,onKeydown:l[3]||(l[3]=Ie(Ye(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),m(o(Ne),{ref_key:"rPasswordFormItemRef",ref:i,first:"",path:"reenteredPassword",label:"确认密码"},{default:g(()=>[m(o(te),{value:o(r).reenteredPassword,"onUpdate:value":l[4]||(l[4]=_=>o(r).reenteredPassword=_),disabled:!o(r).password,type:"password",tabindex:"0",onKeyup:Ie(S,["enter"])},null,8,["value","disabled","onKeyup"])]),_:1},512),c("div",ir,[lr,m(o(Y),{disabled:o(r).oldPassword===null,type:"primary",onClick:S},{default:g(()=>[F(" 更新您的密码 ")]),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1}),m(o(V),{class:"border rounded-sm p-3 bg-[#f8f9fa] h-48 dark:bg-[#18181c]"},{default:g(()=>[cr,dr,ur,fr,pr]),_:1})]),_:1},8,["cols"])]),_:1}))}});var lt={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(e,n){(function(f,i){e.exports=i()})(jt,function(){return function(){var r={686:function(a,s,t){t.d(s,{default:function(){return Be}});var d=t(279),u=t.n(d),b=t(370),h=t.n(b),x=t(817),B=t.n(x);function S(R){try{return document.execCommand(R)}catch{return!1}}var v=function(w){var y=B()(w);return S("cut"),y},l=v;function _(R){var w=document.documentElement.getAttribute("dir")==="rtl",y=document.createElement("textarea");y.style.fontSize="12pt",y.style.border="0",y.style.padding="0",y.style.margin="0",y.style.position="absolute",y.style[w?"right":"left"]="-9999px";var C=window.pageYOffset||document.documentElement.scrollTop;return y.style.top="".concat(C,"px"),y.setAttribute("readonly",""),y.value=R,y}var p=function(w,y){var C=_(w);y.container.appendChild(C);var k=B()(C);return S("copy"),C.remove(),k},E=function(w){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},C="";return typeof w=="string"?C=p(w,y):w instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(w==null?void 0:w.type)?C=p(w.value,y):(C=B()(w),S("copy")),C},T=E;function $(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(y){return typeof y}:$=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},$(R)}var I=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=w.action,C=y===void 0?"copy":y,k=w.container,z=w.target,G=w.text;if(C!=="copy"&&C!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(z!==void 0)if(z&&$(z)==="object"&&z.nodeType===1){if(C==="copy"&&z.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(C==="cut"&&(z.hasAttribute("readonly")||z.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(G)return T(G,{container:k});if(z)return C==="cut"?l(z):T(z,{container:k})},A=I;function D(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(y){return typeof y}:D=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},D(R)}function j(R,w){if(!(R instanceof w))throw new TypeError("Cannot call a class as a function")}function X(R,w){for(var y=0;y<w.length;y++){var C=w[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,C.key,C)}}function W(R,w,y){return w&&X(R.prototype,w),y&&X(R,y),R}function Re(R,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(w&&w.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),w&&se(R,w)}function se(R,w){return se=Object.setPrototypeOf||function(C,k){return C.__proto__=k,C},se(R,w)}function Ee(R){var w=Ae();return function(){var C=re(R),k;if(w){var z=re(this).constructor;k=Reflect.construct(C,arguments,z)}else k=C.apply(this,arguments);return ze(this,k)}}function ze(R,w){return w&&(D(w)==="object"||typeof w=="function")?w:Te(R)}function Te(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function Ae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function re(R){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},re(R)}function ae(R,w){var y="data-clipboard-".concat(R);if(w.hasAttribute(y))return w.getAttribute(y)}var Pe=function(R){Re(y,R);var w=Ee(y);function y(C,k){var z;return j(this,y),z=w.call(this),z.resolveOptions(k),z.listenClick(C),z}return W(y,[{key:"resolveOptions",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof k.action=="function"?k.action:this.defaultAction,this.target=typeof k.target=="function"?k.target:this.defaultTarget,this.text=typeof k.text=="function"?k.text:this.defaultText,this.container=D(k.container)==="object"?k.container:document.body}},{key:"listenClick",value:function(k){var z=this;this.listener=h()(k,"click",function(G){return z.onClick(G)})}},{key:"onClick",value:function(k){var z=k.delegateTarget||k.currentTarget,G=this.action(z)||"copy",ue=A({action:G,container:this.container,target:this.target(z),text:this.text(z)});this.emit(ue?"success":"error",{action:G,text:ue,trigger:z,clearSelection:function(){z&&z.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(k){return ae("action",k)}},{key:"defaultTarget",value:function(k){var z=ae("target",k);if(z)return document.querySelector(z)}},{key:"defaultText",value:function(k){return ae("text",k)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(k){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return T(k,z)}},{key:"cut",value:function(k){return l(k)}},{key:"isSupported",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],z=typeof k=="string"?[k]:k,G=!!document.queryCommandSupported;return z.forEach(function(ue){G=G&&!!document.queryCommandSupported(ue)}),G}}]),y}(u()),Be=Pe},828:function(a){var s=9;if(typeof Element<"u"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}function d(u,b){for(;u&&u.nodeType!==s;){if(typeof u.matches=="function"&&u.matches(b))return u;u=u.parentNode}}a.exports=d},438:function(a,s,t){var d=t(828);function u(x,B,S,v,l){var _=h.apply(this,arguments);return x.addEventListener(S,_,l),{destroy:function(){x.removeEventListener(S,_,l)}}}function b(x,B,S,v,l){return typeof x.addEventListener=="function"?u.apply(null,arguments):typeof S=="function"?u.bind(null,document).apply(null,arguments):(typeof x=="string"&&(x=document.querySelectorAll(x)),Array.prototype.map.call(x,function(_){return u(_,B,S,v,l)}))}function h(x,B,S,v){return function(l){l.delegateTarget=d(l.target,B),l.delegateTarget&&v.call(x,l)}}a.exports=b},879:function(a,s){s.node=function(t){return t!==void 0&&t instanceof HTMLElement&&t.nodeType===1},s.nodeList=function(t){var d=Object.prototype.toString.call(t);return t!==void 0&&(d==="[object NodeList]"||d==="[object HTMLCollection]")&&"length"in t&&(t.length===0||s.node(t[0]))},s.string=function(t){return typeof t=="string"||t instanceof String},s.fn=function(t){var d=Object.prototype.toString.call(t);return d==="[object Function]"}},370:function(a,s,t){var d=t(879),u=t(438);function b(S,v,l){if(!S&&!v&&!l)throw new Error("Missing required arguments");if(!d.string(v))throw new TypeError("Second argument must be a String");if(!d.fn(l))throw new TypeError("Third argument must be a Function");if(d.node(S))return h(S,v,l);if(d.nodeList(S))return x(S,v,l);if(d.string(S))return B(S,v,l);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function h(S,v,l){return S.addEventListener(v,l),{destroy:function(){S.removeEventListener(v,l)}}}function x(S,v,l){return Array.prototype.forEach.call(S,function(_){_.addEventListener(v,l)}),{destroy:function(){Array.prototype.forEach.call(S,function(_){_.removeEventListener(v,l)})}}}function B(S,v,l){return u(document.body,S,v,l)}a.exports=b},817:function(a){function s(t){var d;if(t.nodeName==="SELECT")t.focus(),d=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var u=t.hasAttribute("readonly");u||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),u||t.removeAttribute("readonly"),d=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var b=window.getSelection(),h=document.createRange();h.selectNodeContents(t),b.removeAllRanges(),b.addRange(h),d=b.toString()}return d}a.exports=s},279:function(a){function s(){}s.prototype={on:function(t,d,u){var b=this.e||(this.e={});return(b[t]||(b[t]=[])).push({fn:d,ctx:u}),this},once:function(t,d,u){var b=this;function h(){b.off(t,h),d.apply(u,arguments)}return h._=d,this.on(t,h,u)},emit:function(t){var d=[].slice.call(arguments,1),u=((this.e||(this.e={}))[t]||[]).slice(),b=0,h=u.length;for(b;b<h;b++)u[b].fn.apply(u[b].ctx,d);return this},off:function(t,d){var u=this.e||(this.e={}),b=u[t],h=[];if(b&&d)for(var x=0,B=b.length;x<B;x++)b[x].fn!==d&&b[x].fn._!==d&&h.push(b[x]);return h.length?u[t]=h:delete u[t],this}},a.exports=s,a.exports.TinyEmitter=s}},f={};function i(a){if(f[a])return f[a].exports;var s=f[a]={exports:{}};return r[a](s,s.exports,i),s.exports}return function(){i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,{a:s}),s}}(),function(){i.d=function(a,s){for(var t in s)i.o(s,t)&&!i.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:s[t]})}}(),function(){i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)}}(),i(686)}().default})})(lt);var vr=lt.exports;const mr=Ft(vr),br=e=>{const n=(e==null?void 0:e.appendToBody)===void 0?!0:e.appendToBody;return{toClipboard(r,f){return new Promise((i,a)=>{const s=document.createElement("button"),t=new mr(s,{text:()=>r,action:()=>"copy",container:f!==void 0?f:document.body});t.on("success",d=>{t.destroy(),i(d)}),t.on("error",d=>{t.destroy(),a(d)}),n&&document.body.appendChild(s),s.click(),n&&document.body.removeChild(s)})}}};function gr(){return tt({url:"/user/genInviteCode"})}function yr(){return je({url:"/user/inviteRecord"})}const wr=c("div",null,"邀用户、得福利!",-1),_r=c("div",{class:"text-[#95aac9] mb-2 text-base"}," 我的邀请码 ",-1),xr={class:"text-2xl text-[#555] whitespace-nowrap"},Sr=c("b",{class:"text-[000]"},"Tips",-1),$r=c("div",{class:"flex flex-col text-[#707384]"},[c("span",null,"成功邀请一位用户赠送30次对话余额+3次绘画余额"),c("span",null,"受邀请用户获得10次对话余额+1次绘画余额")],-1),Cr=c("div",null,"邀请记录",-1),kr=q({__name:"invite",setup(e){const{toClipboard:n}=br(),r=Ce(),f=L(()=>r.userInfo.inviteCode),{isSmallXl:i}=$e(),a=ke(),s=[{title:"头像",key:"avatar",render(h){return P(ot,{src:h.avatar,size:"small",round:!0})}},{title:"用户名称",key:"username"},{title:"用户邮箱",key:"email"},{title:"受邀人状态",key:"status",render(h){return P(Y,{type:h.status===1?"primary":"error",size:"small",round:!0,quaternary:!0},{default:()=>h.status===1?"已认证":"未激活"})}},{title:"邀请时间",key:"createdAt",render(h){return P("div",{style:{fontSize:"12px",color:"#999"}},nt(new Date(h.createdAt),"YYYY-MM-DD"))}},{title:"获得奖励状态",key:"status",render(h){return P(Y,{type:h.status===1?"success":"warning",size:"small",round:!0,quaternary:!0},{default:()=>h.status===1?"已领取邀请奖励":"等待受邀人确认"})}}],t=M([]);async function d(){const h=await gr();if(!h.data)return a.error(h.message);a.success("生成邀请码成功"),r.getUserInfo()}async function u(){const h=await yr();t.value=h.data}async function b(){if(!f.value)return a.error("请先生成您的专属邀请码！");const h=`${window.location.href}?code=${f.value}`;try{await n(h),a.success("复制专属邀请链接成功！")}catch{a.error("当前设置不支持自动复制、手动复制吧！")}}return Se(()=>{u()}),(h,x)=>(U(),Z(ye,null,[m(o(ne),null,{header:g(()=>[wr]),default:g(()=>[m(o(de),{"x-gap":24,"y-gap":24,cols:o(i)?1:3,class:"mt-3"},{default:g(()=>[m(o(V),{class:"border rounded-sm p-3",span:2},{default:g(()=>[_r,c("div",{class:Xe(["flex justify-between",[o(i)?"flex-col mt-3":""]])},[c("b",xr,O(o(f)||"********"),1),m(o(Fe),{class:Xe([o(i)?" mt-3":""])},{default:g(()=>[m(o(Y),{type:"success",onClick:d},{default:g(()=>[F(" 生成我的专属邀请码 ")]),_:1}),m(o(Y),{type:"primary",onClick:b},{default:g(()=>[F(" 复制专属邀请链接 ")]),_:1})]),_:1},8,["class"])],2)]),_:1}),m(o(V),{class:"border rounded-sm p-3",span:1},{default:g(()=>[Sr,$r]),_:1})]),_:1},8,["cols"])]),_:1}),m(o(ne),{class:"mt-5"},{header:g(()=>[Cr]),default:g(()=>[m(o(rt),{columns:s,data:t.value},null,8,["data"])]),_:1})],64))}}),Rr={class:"flex flex-col justify-center items-center"},Er={class:"text-2xl text-primary self-start mb-14 flex justify-between w-full"},zr=c("span",null,"Profile",-1),Tr={class:"mt-3 text-lg text-[#555]"},Ar={class:"text-[#95aac9] mt-2"},Pr={class:"text-[#555] mt-3 px-4"},Br={class:"self-start mt-16"},Nr=c("div",{class:"text-2xl text-primary"}," Usage Record ",-1),Ir={class:"flex items-center space-x-4 pl-3 mt-8"},Or=c("span",{class:"flex-shrink-0 w-16 text-primary"},"MJ余额:",-1),Mr={class:"w-[200px]"},Dr={class:"flex items-center space-x-4 pl-3 mt-3"},Lr=c("span",{class:"flex-shrink-0 w-16 text-primary"},"对话次数:",-1),jr={class:"w-[200px]"},Fr={class:"flex items-center space-x-4 pl-3 mt-3"},Ur=c("span",{class:"flex-shrink-0 w-16 text-primary"},"绘画次数:",-1),Gr={class:"w-[200px]"},Hr={class:"flex items-center space-x-4 pl-3 mt-3"},Yr=c("span",{class:"flex-shrink-0 w-16 text-primary"},"使用金额:",-1),Xr={class:"w-[200px]"},Vr={key:1},qr={class:"flex items-center space-x-4"},Wr={class:"flex-shrink-0 w-[60px]"},Kr={class:"flex-1"},Qr={class:"flex items-center space-x-4 mt-5"},Jr={class:"flex-shrink-0 w-[60px]"},Zr={class:"flex-1"},eo={class:"flex space-x-4 mt-5"},to={class:"flex-shrink-0 w-[60px]"},no={class:"flex-1"},fo=q({__name:"index",setup(e){const n=Ce(),{userBalance:r}=n,f=Ut(),i=Gt(),a=M(!0),s=L(()=>n.isLogin),t=ke(),d=L(()=>n.userInfo.email||""),u=M(n.userInfo.avatar??qe),b=M(n.userInfo.username??"Nine AI"),h=M(n.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。"),x=M(!1),{isSmallLg:B,isMobile:S}=$e();async function v(p){try{x.value=!0;const E=await Xt(p);if(x.value=!1,!E.success)return t.error(E.message);t.success(Vt("common.updateUserSuccess")),n.getUserInfo()}catch{x.value=!1}}function l(){const{code:p}=f.query;p&&(Ht.set("invitedBy",p),i.replace({query:{}}),!s.value&&n.setLoginDialog(!0))}Se(()=>{l()});function _(){n.logOut(),i.push("/")}return setTimeout(()=>{a.value=!1},500),(p,E)=>(U(),ee(o(Ve),{class:"h-full"},{default:g(()=>[m(o(Ve),{"has-sider":"",class:"h-full"},{default:g(()=>[o(B)?ve("",!0):(U(),ee(o(Wt),{key:0,"content-style":"padding: 24px;",bordered:"",width:"380"},{default:g(()=>[c("div",Rr,[c("div",Er,[zr,m(o(Y),{tertiary:"",type:"error",onClick:_},{default:g(()=>[F(" 退出登录 ")]),_:1})]),m(o(ot),{size:148,src:u.value,"fallback-src":o(qe)},null,8,["src","fallback-src"]),c("b",Tr,O(b.value),1),c("span",Ar,O(o(d)),1),c("div",Pr,O(h.value),1),c("div",Br,[Nr,c("div",Ir,[Or,c("div",Mr,O(o(r).balance||"0")+" 次 ",1)]),c("div",Dr,[Lr,c("div",jr,O(o(r).useChats||"0")+" 次 ",1)]),c("div",Fr,[Ur,c("div",Gr,O(o(r).usePaints||"0")+" 次 ",1)]),c("div",Hr,[Yr,c("div",Xr,O(o(r).useTokens||"0")+" Token ",1)])])])]),_:1})),m(o(Yt),{"content-style":{padding:o(S)?"8px":"0 28px 28px 24px"}},{default:g(()=>[m(o(Kt),{title:"个人中心",des:"编辑个人信息、查看更多详情",padding:(o(S),1)},null,8,["padding"]),m(o(Qt),{type:"line",animated:"",class:"mt-5"},{default:g(()=>[m(o(pe),{name:"account",tab:"我的钱包"},{default:g(()=>[m(sr)]),_:1}),m(o(pe),{name:"baseInfo",tab:"基础信息"},{default:g(()=>[m(o(ne),null,{header:g(()=>[a.value||!o(s)?(U(),ee(o(he),{key:0,size:"medium",width:"20%"})):(U(),Z("div",Vr,"用户基础设置"))]),default:g(()=>[a.value||!o(s)?(U(),ee(o(Fe),{key:0,vertical:""},{default:g(()=>[m(o(he),{height:"40px",size:"medium"}),m(o(he),{height:"40px",size:"medium"}),m(o(he),{height:"80px",size:"medium"})]),_:1})):(U(),ee(o(de),{key:1,"x-gap":"12",cols:1},{default:g(()=>[m(o(V),null,{default:g(()=>[c("div",qr,[c("span",Wr,O(p.$t("setting.avatarLink")),1),c("div",Kr,[m(o(te),{value:u.value,"onUpdate:value":E[0]||(E[0]=T=>u.value=T),placeholder:"请填写头像地址"},null,8,["value"])]),m(o(Y),{size:"tiny",text:"",type:"primary",onClick:E[1]||(E[1]=T=>v({avatar:u.value}))},{default:g(()=>[F(O(p.$t("common.update")),1)]),_:1})]),c("div",Qr,[c("span",Jr,O(p.$t("setting.name")),1),c("div",Zr,[m(o(te),{value:b.value,"onUpdate:value":E[2]||(E[2]=T=>b.value=T),placeholder:"请编辑您的用户名",maxlength:"12","show-count":"",clearable:""},null,8,["value"])]),m(o(Y),{size:"tiny",text:"",type:"primary",onClick:E[3]||(E[3]=T=>v({username:b.value}))},{default:g(()=>[F(O(p.$t("common.update")),1)]),_:1})]),c("div",eo,[c("span",to,O(p.$t("setting.sign")),1),c("div",no,[m(o(te),{value:h.value,"onUpdate:value":E[4]||(E[4]=T=>h.value=T),placeholder:"请编辑您的签名",maxlength:"128","show-count":"",clearable:"",type:"textarea"},null,8,["value"])]),m(o(Y),{size:"tiny",text:"",type:"primary",onClick:E[5]||(E[5]=T=>v({sign:h.value}))},{default:g(()=>[F(O(p.$t("common.update")),1)]),_:1})])]),_:1})]),_:1}))]),_:1})]),_:1}),m(o(pe),{name:"password",tab:"密码管理"},{default:g(()=>[m(hr)]),_:1}),m(o(pe),{name:"invite",tab:"邀请码"},{default:g(()=>[m(kr)]),_:1})]),_:1})]),_:1},8,["content-style"])]),_:1})]),_:1}))}});export{fo as default};
