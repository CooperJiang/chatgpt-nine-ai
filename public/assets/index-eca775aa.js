import{I as z,f as t,z as F,d as X,A as Y,u as ee,a as te,r as k,b as se,c as ne,o as le,e as u,g as s,h as a,w as i,t as L,F as _,i as p,j as D,n as v,k as ae,l as ie,m as r,N as oe,p as re,B as ce,q as ue,s as de,v as g,x as $,C as N}from"./index-2a868905.js";import{_ as fe}from"./titleBar.vue_vue_type_script_setup_true_lang-03b2fda6.js";import{I as me,N as he,a as E}from"./ImagesOutline-6eadb202.js";import{N as P}from"./Ellipsis-ebcadc49.js";import{N as V,a as T,b as ke}from"./Tabs-2e12da33.js";import"./utils-7805148d.js";const ve=z("search",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M21 38C30.3888 38 38 30.3888 38 21C38 11.6112 30.3888 4 21 4C11.6112 4 4 11.6112 4 21C4 30.3888 11.6112 38 21 38Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M26.657 14.3431C25.2093 12.8954 23.2093 12 21.0001 12C18.791 12 16.791 12.8954 15.3433 14.3431",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M33.2216 33.2217L41.7069 41.707",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ge=z("update-rotation",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M33.5424 27C32.2681 31.0571 28.4778 34 24.0002 34C19.5226 34 15.7323 31.0571 14.458 27V33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M33.5424 15V21C32.2681 16.9429 28.4778 14 24.0002 14C19.5226 14 15.7323 16.9429 14.458 21",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),we=z("zoom-in",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M21 38C30.3888 38 38 30.3888 38 21C38 11.6112 30.3888 4 21 4C11.6112 4 4 11.6112 4 21C4 30.3888 11.6112 38 21 38Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M21 15L21 27",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M15.0156 21.0156L27 21",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M33.2216 33.2217L41.7069 41.707",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});function _e(e){return F({url:"/mj/draw",data:e})}function pe(e){return F({url:"/mj/upscaleSingleImg",data:e})}function xe(e){return F({url:"/mj/variationSingleImg",data:e})}const ye=a("span",{class:"text-[#67c23a]"},"每次绘画或者对图片变体扣除一个MJ绘画余额、放大图片是免费的、不会扣除您的余额！",-1),Ce={class:"flex my-5"},be=a("p",{class:"mx-2 text-[#707384] select-none flex-shrink-0"}," Prompt示例： ",-1),Le={class:"text-[#707384]"},je={class:"mt-5 p-4 bg-[#e7eaf380] dark:bg-[#2c2c32] rounded-lg"},Ie=a("div",{class:"flex"},[a("h4",{class:"text-base mr-2 w-20 flex-shrink-0"}," 修饰词参考 "),a("p",{class:"text-[#707384]"}," 您可参考或选用下列各类修饰词丰富您的输入文本，尝试生成更加多样的图像，更多修饰词可参考 Prompt指南 或 自由输入 探索大模型作画更多未知能力 ")],-1),Ne={class:"flex mt-5"},ze=a("h4",{class:"text-base mr-2 w-20 flex-shrink-0"}," 图像类型 ",-1),Fe=["onClick"],Me={key:0,class:"mt-8 pb-10"},Se=a("div",{class:"flex justify-center"}," ----------- 正在生成中、图片越大数量越多所需时间越多、预计15S ----------- ",-1),Ae={class:"flex flex-wrap mt-8"},Be={key:0,class:"parent absolute"},We={class:"circle"},Ue=X({__name:"index",setup(e){const f=Y(),{isMobile:h}=ee(),U=te(),x=k(0),o=k(!1),w=se(),j=k([]),I=k([]),M=k({}),q=ne(()=>U.theme==="dark"),y=k(4),S=["超级逼真的未来世界，真实照片，虚幻引擎","帅哥，二次元，赛博朋克风格，精致脸庞","兔子，可爱，高质量，高品质"],A=["古风","二次元","写实照片","油画","水彩画","油墨画","黑白雕版画","雕塑","3D模型","手绘草图","炭笔画","极简线条画","电影质感","机械杆"],c=k({prompt:""});function Z(){x.value=x.value+1>=S.length?0:x.value+1}async function C(){const l=await ie({model:"mj"});l.success&&(j.value=l.data)}async function B(){const l=await ae({size:999,rec:1,model:"mj"});if(!l.success)return w.error(l.message);I.value=l.data.rows}function G(l){return/[\u4E00-\u9FA5]+/g.test(l)}function K(l){return/^[\u4E00-\u9FA5]+$/.test(l)}async function W(){if(!c.value.prompt)return w.error("请输入您想要生成的图片描述信息、并且使用英文！");const l=G(c.value.prompt);if(K(c.value.prompt)||l)return w.error("描述词请使用纯英文、否则可能造成无法识别、请先翻译为英文再进行绘制可获得更好的体验！");try{f.success({title:"图片开始绘制了！",duration:1e4,content:"当前有图片已经开始进行绘制了、绘制图片时间大约70-90S、请您耐心等待！"}),y.value=4,o.value=!0,await _e(c.value),f.success({title:"图片绘制完成",duration:1e4,content:"您的图片已经绘制完成了、快去看看吧、前往我的生成中即可查看！"}),await C(),o.value=!1}catch{o.value=!1}}async function R(l,m){const{message_id:n}=l;if(o.value)return f.warning({title:"已有进行中的绘制",duration:3e3,content:"当前已有图片正在绘制中、请耐心等待、频繁请求可能会短时间限制您的账号！"});if(!n)return w.error("当前图片不支持变体绘制！");const d={message_id:n,orderId:m};try{y.value=4,c.value.prompt="正在对图片进行变体绘制中......",o.value=!0,f.success({title:"图片开始变体绘制了！",duration:1e4,content:"当前图片已经开始进行变体绘制了、绘制图片时间大约70-90S、请您耐心等待！"}),await xe(d),c.value.prompt="",await C(),o.value=!1}catch{c.value.prompt="",o.value=!1,f.error({title:"图片变体绘制失败了！",duration:1e4,content:"您的图片变体绘制失败了、请休息片刻再试一次吧！"})}}async function J(l,m){const{message_id:n}=l;if(o.value)return f.warning({title:"已有进行中的绘制",duration:3e3,content:"当前有图片正在绘制中、请耐心等待、频繁请求可能会短时间限制您的账号！"});if(!n)return w.error("当前图片不支持单独绘制！");const d={message_id:n,orderId:m};try{f.success({title:"图片放大绘制中",duration:5e3,content:"当前图片已经开始进行放大绘制了、预计时间10-20S、请耐心等待！"}),y.value=1,c.value.prompt="正在对单张图片进行细节绘制中......",o.value=!0,await pe(d),c.value.prompt="",await C(),o.value=!1,f.success({title:"图片放大绘制完成",duration:1e4,content:"您的图片放大操作已经绘制完成了、快去看看吧、前往我的生成中即可查看！"})}catch{c.value.prompt="",o.value=!1,f.error({title:"图片放大失败了！",duration:1e4,content:"您的图片放大失败了、请休息片刻再试一次吧！"})}}function H(l){l==="mine"&&C(),l==="all"&&B()}function O(l){M.value[l].click()}function Q(l,m){M.value[m.id]=l}return le(()=>{B()}),(l,m)=>(r(),u("div",{class:v(["main min-h-screen bg-center dark:bg-[#2F2E34]",[s(q)?"darkBg":"lightBg",s(h)?"px-3":"px-10"]])},[t(s(fe),{title:"AI绘画专业版",des:"专业版绘画时间预计60~80S、请耐心等待、建议使用英文、或者使用前翻译为英文效果更佳、请合理绘图、触发敏感词将直接封禁账户、请合理使用工具！",padding:s(h)?2:20},null,8,["padding"]),a("div",{class:v([s(h)?["px-2"]:["px-20"],"pb-5"])},[t(s(oe),{"show-icon":!1,type:"success",class:"mt-5"},{default:i(()=>[ye]),_:1}),a("div",Ce,[a("b",{class:"text-primary cursor-pointer select-none flex-shrink-0",onClick:Z},"换示例"),be,a("p",Le,L(S[x.value]),1)]),t(s(he),null,{default:i(()=>[t(s(re),{value:c.value.prompt,"onUpdate:value":m[0]||(m[0]=n=>c.value.prompt=n),size:"large",clearable:"",disabled:o.value,placeholder:"请输入提示词、可以参考上述的提示词、但是请使用英文、MJ对中文识别还不够准确!",onKeyup:ce(W,["enter"])},null,8,["value","disabled","onKeyup"]),t(s(ue),{type:"success",size:"large",loading:o.value,disabled:o.value,onClick:W},{icon:i(()=>[t(s(de),null,{default:i(()=>[t(s(me))]),_:1})]),default:i(()=>[g(" 生成图片 ")]),_:1},8,["loading","disabled"])]),_:1}),a("div",je,[Ie,a("div",Ne,[ze,a("div",null,[(r(),u(_,null,p(A,(n,d)=>a("span",{key:n,class:"cursor-pointer hover:text-primary",onClick:b=>c.value.prompt+=c.value.prompt?`，${n}`:n},L(`${n} ${d+1===A.length?"":"、"}`),9,Fe)),64))])])]),o.value?(r(),u("div",Me,[Se,a("div",Ae,[(r(!0),u(_,null,p(y.value,n=>(r(),u("img",{key:n,class:"w-60 rounded ml-1 mt-1",src:"https://public-1300678944.cos.ap-shanghai.myqcloud.com/blog/16816463869037208e40df8ceb5ff.gif"}))),128))])])):D("",!0),t(s(ke),{type:"line",animated:"",class:"mt-5","onUpdate:value":H},{default:i(()=>[t(s(V),{name:"all",tab:"公共生成"},{default:i(()=>[I.value.length?(r(),u("div",{key:0,class:v(["flex flex-wrap mt-8",[s(h)?"justify-center":""]])},[(r(!0),u(_,null,p(I.value,n=>(r(),u("div",{key:n.answer,class:v(["w-64 rounded ml-3 mt-3",[s(h)?"w-full":"w-64"]])},[t(s(E),{class:"w-full",src:n.answer},null,8,["src"]),t(s(P),{"expand-trigger":"click","line-clamp":"1",tooltip:!0},{default:i(()=>[g(L(n.prompt),1)]),_:2},1024)],2))),128))],2)):(r(),$(s(T),{key:1,size:"huge",class:"mt-20",description:"暂无数据哟~"}))]),_:1}),t(s(V),{name:"mine",tab:"我的生成"},{default:i(()=>[j.value.length?(r(),u("div",{key:0,class:v(["flex flex-wrap mt-8",[s(h)?"justify-center":""]])},[(r(!0),u(_,null,p(j.value,n=>(r(),u("div",{key:n.answer,class:v(["w-64 rounded ml-3 mt-3 relative img-container",[s(h)?"w-full":"w-64"]])},[n.group?(r(),u("div",Be,[(r(),u(_,null,p(4,d=>a("div",{key:d,class:"child"},[t(s(N),{trigger:"hover"},{trigger:i(()=>[t(s(ve),{theme:"multi-color",class:"icon",size:"28",fill:["#ebebeb","#2cb976","#FFF","#1fc0ee"],onClick:b=>J(n,d)},null,8,["onClick"])]),default:i(()=>[g(" 将此图片绘制单张完整图片[免费] ")]),_:2},1024),t(s(N),{trigger:"hover"},{trigger:i(()=>[t(s(ge),{theme:"multi-color",class:"icon ml-3",size:"24",fill:["#ebebeb","#2cb976","#FFF","#1fc0ee"],onClick:b=>R(n,d)},null,8,["onClick"])]),default:i(()=>[g(" 在此图片的基础上进行变体、以此为基础生成新的图片 ")]),_:2},1024)])),64)),a("div",We,[t(s(N),{trigger:"hover"},{trigger:i(()=>[t(s(we),{theme:"multi-color",size:"24",class:"zoom",fill:["#333","#2F88FF","#FFF","#43CCF8"],onClick:d=>O(n.id)},null,8,["onClick"])]),default:i(()=>[g(" 点击预览放大图片 ")]),_:2},1024)])])):D("",!0),t(s(E),{ref_for:!0,ref:d=>Q(d,n),class:"w-full",src:n.answer},null,8,["src"]),t(s(P),{"line-clamp":"1",tooltip:!0},{default:i(()=>[g(L(n.prompt),1)]),_:2},1024)],2))),128))],2)):(r(),$(s(T),{key:1,size:"huge",class:"mt-20",description:"暂无数据哟~"}))]),_:1})]),_:1})],2)],2))}});export{Ue as default};
